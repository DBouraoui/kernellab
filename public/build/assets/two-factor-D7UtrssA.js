import{c as te,a as P,j as n,b as a,F as ae,H as We}from"./app-DGPCan5g.js";import{r as qe,q as Ve,s as ze,b as Ke,c as Ge,d as Qe,f as Je,H as Xe,g as Ze,S as Ue}from"./layout-f1Fffb3O.js";import{B as G}from"./button-BKu1VtxA.js";import{a as Ye,b as et,e as tt,C as rt,c as nt}from"./card-B7w5t2I-.js";import{c as ot}from"./index-BxE-eOpd.js";import{c as U}from"./index-CApXfb9f.js";import{E as lt}from"./eye-off-B8I4__k_.js";import{E as st}from"./eye-CzXhGvtG.js";import{I as at}from"./input-error-DFfucwvF.js";import{a as it,c as ct,b as ut,d as dt,e as pt}from"./dialog-BXh_XK3B.js";import{S as we}from"./spinner-COZcrGjY.js";import{C as mt}from"./check-6_x2AkXJ.js";import{C as ft}from"./copy-DSr1e6E6.js";import{B as Se}from"./badge-DNs7cozt.js";import{A as ht}from"./app-layout-CcIgPbOE.js";import{S as _e}from"./shield-check-Bvkx-TW0.js";import"./app-CnGQ27xG.js";import"./separator-Cnbb_LkT.js";import"./index-CNP4AJTI.js";import"./index-iZS91M6O.js";import"./index-B_sldLAf.js";import"./index-BIcO2s-X.js";import"./index-DrygQRvF.js";import"./index-B6mdY-mV.js";import"./index-DUMTwvkv.js";import"./index-zkLdIFd1.js";import"./index-DXS21hnx.js";import"./x-b6IgYwCN.js";import"./dropdown-menu-B9BDWiTR.js";import"./index-C1BL1_cp.js";import"./index-CeDJjwBx.js";import"./index-Bgxp8mcL.js";import"./index-D2L6mW0U.js";import"./tooltip-B1H-JN1Z.js";import"./index-DPa3JC03.js";import"./avatar-4bez4EQy.js";import"./app-logo-icon-BJISjU6h.js";import"./chevron-right-B98-ukGQ.js";const vt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xt=te("CircleAlert",vt);const gt=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],yt=te("LockKeyhole",gt);const bt=[["path",{d:"M5 12h14",key:"1ays0h"}]],jt=te("Minus",bt);const wt=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],St=te("RefreshCw",wt);const Ct=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],_t=te("ScanLine",Ct);const Nt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]],kt=te("ShieldBan",Nt),Et=ot("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function Tt(r){const e=P.c(10);let t,o,s;e[0]!==r?({className:t,variant:s,...o}=r,e[0]=r,e[1]=t,e[2]=o,e[3]=s):(t=e[1],o=e[2],s=e[3]);let l;e[4]!==t||e[5]!==s?(l=U(Et({variant:s}),t),e[4]=t,e[5]=s,e[6]=l):l=e[6];let i;return e[7]!==o||e[8]!==l?(i=n.jsx("div",{"data-slot":"alert",role:"alert",className:l,...o}),e[7]=o,e[8]=l,e[9]=i):i=e[9],i}function Mt(r){const e=P.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let s;e[3]!==t?(s=U("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),e[3]=t,e[4]=s):s=e[4];let l;return e[5]!==o||e[6]!==s?(l=n.jsx("div",{"data-slot":"alert-title",className:s,...o}),e[5]=o,e[6]=s,e[7]=l):l=e[7],l}function Rt(r){const e=P.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let s;e[3]!==t?(s=U("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),e[3]=t,e[4]=s):s=e[4];let l;return e[5]!==o||e[6]!==s?(l=n.jsx("div",{"data-slot":"alert-description",className:s,...o}),e[5]=o,e[6]=s,e[7]=l):l=e[7],l}function Ne(r){const e=P.c(8),{errors:t,title:o}=r;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=n.jsx(xt,{}),e[0]=s):s=e[0];const l=o||"Something went wrong.";let i;e[1]!==l?(i=n.jsx(Mt,{children:l}),e[1]=l,e[2]=i):i=e[2];let u;e[3]!==t?(u=n.jsx(Rt,{children:n.jsx("ul",{className:"list-inside list-disc text-sm",children:Array.from(new Set(t)).map(At)})}),e[3]=t,e[4]=u):u=e[4];let c;return e[5]!==i||e[6]!==u?(c=n.jsxs(Tt,{variant:"destructive",children:[s,i,u]}),e[5]=i,e[6]=u,e[7]=c):c=e[7],c}function At(r,e){return n.jsx("li",{children:r},e)}function Pt(r){const e=P.c(32),{recoveryCodesList:t,fetchRecoveryCodes:o,errors:s}=r,[l,i]=a.useState(!1),u=a.useRef(null),c=t.length>0&&l;let g;e[0]!==l||e[1]!==o||e[2]!==t.length?(g=async()=>{!l&&!t.length&&await o(),i(!l),l||setTimeout(()=>{u.current?.scrollIntoView({behavior:"smooth",block:"nearest"})})},e[0]=l,e[1]=o,e[2]=t.length,e[3]=g):g=e[3];const v=g;let x,m;e[4]!==o||e[5]!==t.length?(x=()=>{t.length||o()},m=[t.length,o],e[4]=o,e[5]=t.length,e[6]=x,e[7]=m):(x=e[6],m=e[7]),a.useEffect(x,m);const y=l?lt:st;let f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=n.jsxs(Ye,{children:[n.jsxs(et,{className:"flex gap-3",children:[n.jsx(yt,{className:"size-4","aria-hidden":"true"}),"2FA Recovery Codes"]}),n.jsx(tt,{children:"Recovery codes let you regain access if you lose your 2FA device. Store them in a secure password manager."})]}),e[8]=f):f=e[8];let j;e[9]!==y?(j=n.jsx(y,{className:"size-4","aria-hidden":"true"}),e[9]=y,e[10]=j):j=e[10];const C=l?"Hide":"View";let d;e[11]!==l||e[12]!==j||e[13]!==C||e[14]!==v?(d=n.jsxs(G,{onClick:v,className:"w-fit","aria-expanded":l,"aria-controls":"recovery-codes-section",children:[j,C," Recovery Codes"]}),e[11]=l,e[12]=j,e[13]=C,e[14]=v,e[15]=d):d=e[15];let w;e[16]!==c||e[17]!==o?(w=c&&n.jsx(ae,{...qe.form(),options:{preserveScroll:!0},onSuccess:o,children:Dt}),e[16]=c,e[17]=o,e[18]=w):w=e[18];let k;e[19]!==d||e[20]!==w?(k=n.jsxs("div",{className:"flex flex-col gap-3 select-none sm:flex-row sm:items-center sm:justify-between",children:[d,w]}),e[19]=d,e[20]=w,e[21]=k):k=e[21];const _=`relative overflow-hidden transition-all duration-300 ${l?"h-auto opacity-100":"h-0 opacity-0"}`,E=!l;let T;e[22]!==s||e[23]!==t?(T=n.jsx("div",{className:"mt-3 space-y-3",children:s?.length?n.jsx(Ne,{errors:s}):n.jsxs(n.Fragment,{children:[n.jsx("div",{ref:u,className:"grid gap-1 rounded-lg bg-muted p-4 font-mono text-sm",role:"list","aria-label":"Recovery codes",children:t.length?t.map($t):n.jsx("div",{className:"space-y-2","aria-label":"Loading recovery codes",children:Array.from({length:8},Ft)})}),n.jsx("div",{className:"text-xs text-muted-foreground select-none",children:n.jsxs("p",{id:"regenerate-warning",children:["Each recovery code can be used once to access your account and will be removed after use. If you need more, click"," ",n.jsx("span",{className:"font-bold",children:"Regenerate Codes"})," ","above."]})})]})}),e[22]=s,e[23]=t,e[24]=T):T=e[24];let M;e[25]!==_||e[26]!==E||e[27]!==T?(M=n.jsx("div",{id:"recovery-codes-section",className:_,"aria-hidden":E,children:T}),e[25]=_,e[26]=E,e[27]=T,e[28]=M):M=e[28];let A;return e[29]!==M||e[30]!==k?(A=n.jsxs(rt,{children:[f,n.jsxs(nt,{children:[k,M]})]}),e[29]=M,e[30]=k,e[31]=A):A=e[31],A}function Ft(r,e){return n.jsx("div",{className:"h-4 animate-pulse rounded bg-muted-foreground/20","aria-hidden":"true"},e)}function $t(r,e){return n.jsx("div",{role:"listitem",className:"select-text",children:r},e)}function Dt(r){const{processing:e}=r;return n.jsxs(G,{variant:"secondary",type:"submit",disabled:e,"aria-describedby":"regenerate-warning",children:[n.jsx(St,{})," Regenerate Codes"]})}var Ot=Object.defineProperty,It=Object.defineProperties,Bt=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,Ce=(r,e,t)=>e in r?Ot(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Lt=(r,e)=>{for(var t in e||(e={}))ke.call(e,t)&&Ce(r,t,e[t]);if(ie)for(var t of ie(e))Ee.call(e,t)&&Ce(r,t,e[t]);return r},Ht=(r,e)=>It(r,Bt(e)),Wt=(r,e)=>{var t={};for(var o in r)ke.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&ie)for(var o of ie(r))e.indexOf(o)<0&&Ee.call(r,o)&&(t[o]=r[o]);return t};function qt(r){let e=setTimeout(r,0),t=setTimeout(r,10),o=setTimeout(r,50);return[e,t,o]}function Vt(r){let e=a.useRef();return a.useEffect(()=>{e.current=r}),e.current}var zt=18,Te=40,Kt=`${Te}px`,Gt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Qt({containerRef:r,inputRef:e,pushPasswordManagerStrategy:t,isFocused:o}){let[s,l]=a.useState(!1),[i,u]=a.useState(!1),[c,g]=a.useState(!1),v=a.useMemo(()=>t==="none"?!1:(t==="increase-width"||t==="experimental-no-flickering")&&s&&i,[s,i,t]),x=a.useCallback(()=>{let m=r.current,y=e.current;if(!m||!y||c||t==="none")return;let f=m,j=f.getBoundingClientRect().left+f.offsetWidth,C=f.getBoundingClientRect().top+f.offsetHeight/2,d=j-zt,w=C;document.querySelectorAll(Gt).length===0&&document.elementFromPoint(d,w)===m||(l(!0),g(!0))},[r,e,c,t]);return a.useEffect(()=>{let m=r.current;if(!m||t==="none")return;function y(){let j=window.innerWidth-m.getBoundingClientRect().right;u(j>=Te)}y();let f=setInterval(y,1e3);return()=>{clearInterval(f)}},[r,t]),a.useEffect(()=>{let m=o||document.activeElement===e.current;if(t==="none"||!m)return;let y=setTimeout(x,0),f=setTimeout(x,2e3),j=setTimeout(x,5e3),C=setTimeout(()=>{g(!0)},6e3);return()=>{clearTimeout(y),clearTimeout(f),clearTimeout(j),clearTimeout(C)}},[e,o,t,x]),{hasPWMBadge:s,willPushPWMBadge:v,PWM_BADGE_SPACE_WIDTH:Kt}}var Me=a.createContext({}),Re=a.forwardRef((r,e)=>{var t=r,{value:o,onChange:s,maxLength:l,textAlign:i="left",pattern:u,placeholder:c,inputMode:g="numeric",onComplete:v,pushPasswordManagerStrategy:x="increase-width",pasteTransformer:m,containerClassName:y,noScriptCSSFallback:f=Jt,render:j,children:C}=t,d=Wt(t,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),w,k,_,E,T;let[M,A]=a.useState(typeof d.defaultValue=="string"?d.defaultValue:""),b=o??M,$=Vt(b),I=a.useCallback(p=>{s?.(p),A(p)},[s]),R=a.useMemo(()=>u?typeof u=="string"?new RegExp(u):u:null,[u]),S=a.useRef(null),V=a.useRef(null),W=a.useRef({value:b,onChange:I,isIOS:typeof window<"u"&&((k=(w=window?.CSS)==null?void 0:w.supports)==null?void 0:k.call(w,"-webkit-touch-callout","none"))}),D=a.useRef({prev:[(_=S.current)==null?void 0:_.selectionStart,(E=S.current)==null?void 0:E.selectionEnd,(T=S.current)==null?void 0:T.selectionDirection]});a.useImperativeHandle(e,()=>S.current,[]),a.useEffect(()=>{let p=S.current,h=V.current;if(!p||!h)return;W.current.value!==p.value&&W.current.onChange(p.value),D.current.prev=[p.selectionStart,p.selectionEnd,p.selectionDirection];function F(){if(document.activeElement!==p){ne(null),oe(null);return}let N=p.selectionStart,O=p.selectionEnd,se=p.selectionDirection,H=p.maxLength,J=p.value,q=D.current.prev,z=-1,K=-1,X;if(J.length!==0&&N!==null&&O!==null){let Be=N===O,Le=N===J.length&&J.length<H;if(Be&&!Le){let Z=N;if(Z===0)z=0,K=1,X="forward";else if(Z===H)z=Z-1,K=Z,X="backward";else if(H>1&&J.length>1){let de=0;if(q[0]!==null&&q[1]!==null){X=Z<q[1]?"backward":"forward";let He=q[0]===q[1]&&q[0]<H;X==="backward"&&!He&&(de=-1)}z=de+Z,K=de+Z+1}}z!==-1&&K!==-1&&z!==K&&S.current.setSelectionRange(z,K,X)}let be=z!==-1?z:N,je=K!==-1?K:O,Ie=X??se;ne(be),oe(je),D.current.prev=[be,je,Ie]}if(document.addEventListener("selectionchange",F,{capture:!0}),F(),document.activeElement===p&&ce(!0),!document.getElementById("input-otp-style")){let N=document.createElement("style");if(N.id="input-otp-style",document.head.appendChild(N),N.sheet){let O="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";le(N.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),le(N.sheet,`[data-input-otp]:autofill { ${O} }`),le(N.sheet,`[data-input-otp]:-webkit-autofill { ${O} }`),le(N.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),le(N.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let B=()=>{h&&h.style.setProperty("--root-height",`${p.clientHeight}px`)};B();let L=new ResizeObserver(B);return L.observe(p),()=>{document.removeEventListener("selectionchange",F,{capture:!0}),L.disconnect()}},[]);let[fe,he]=a.useState(!1),[re,ce]=a.useState(!1),[Q,ne]=a.useState(null),[Y,oe]=a.useState(null);a.useEffect(()=>{qt(()=>{var p,h,F,B;(p=S.current)==null||p.dispatchEvent(new Event("input"));let L=(h=S.current)==null?void 0:h.selectionStart,N=(F=S.current)==null?void 0:F.selectionEnd,O=(B=S.current)==null?void 0:B.selectionDirection;L!==null&&N!==null&&(ne(L),oe(N),D.current.prev=[L,N,O])})},[b,re]),a.useEffect(()=>{$!==void 0&&b!==$&&$.length<l&&b.length===l&&v?.(b)},[l,v,$,b]);let ee=Qt({containerRef:V,inputRef:S,pushPasswordManagerStrategy:x,isFocused:re}),ve=a.useCallback(p=>{let h=p.currentTarget.value.slice(0,l);if(h.length>0&&R&&!R.test(h)){p.preventDefault();return}typeof $=="string"&&h.length<$.length&&document.dispatchEvent(new Event("selectionchange")),I(h)},[l,I,$,R]),xe=a.useCallback(()=>{var p;if(S.current){let h=Math.min(S.current.value.length,l-1),F=S.current.value.length;(p=S.current)==null||p.setSelectionRange(h,F),ne(h),oe(F)}ce(!0)},[l]),ge=a.useCallback(p=>{var h,F;let B=S.current;if(!m&&(!W.current.isIOS||!p.clipboardData||!B))return;let L=p.clipboardData.getData("text/plain"),N=m?m(L):L;p.preventDefault();let O=(h=S.current)==null?void 0:h.selectionStart,se=(F=S.current)==null?void 0:F.selectionEnd,H=(O!==se?b.slice(0,O)+N+b.slice(se):b.slice(0,O)+N+b.slice(O)).slice(0,l);if(H.length>0&&R&&!R.test(H))return;B.value=H,I(H);let J=Math.min(H.length,l-1),q=H.length;B.setSelectionRange(J,q),ne(J),oe(q)},[l,I,R,b]),$e=a.useMemo(()=>({position:"relative",cursor:d.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[d.disabled]),ye=a.useMemo(()=>({position:"absolute",inset:0,width:ee.willPushPWMBadge?`calc(100% + ${ee.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ee.willPushPWMBadge?`inset(0 ${ee.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ee.PWM_BADGE_SPACE_WIDTH,ee.willPushPWMBadge,i]),De=a.useMemo(()=>a.createElement("input",Ht(Lt({autoComplete:d.autoComplete||"one-time-code"},d),{"data-input-otp":!0,"data-input-otp-placeholder-shown":b.length===0||void 0,"data-input-otp-mss":Q,"data-input-otp-mse":Y,inputMode:g,pattern:R?.source,"aria-placeholder":c,style:ye,maxLength:l,value:b,ref:S,onPaste:p=>{var h;ge(p),(h=d.onPaste)==null||h.call(d,p)},onChange:ve,onMouseOver:p=>{var h;he(!0),(h=d.onMouseOver)==null||h.call(d,p)},onMouseLeave:p=>{var h;he(!1),(h=d.onMouseLeave)==null||h.call(d,p)},onFocus:p=>{var h;xe(),(h=d.onFocus)==null||h.call(d,p)},onBlur:p=>{var h;ce(!1),(h=d.onBlur)==null||h.call(d,p)}})),[ve,xe,ge,g,ye,l,Y,Q,d,R?.source,b]),ue=a.useMemo(()=>({slots:Array.from({length:l}).map((p,h)=>{var F;let B=re&&Q!==null&&Y!==null&&(Q===Y&&h===Q||h>=Q&&h<Y),L=b[h]!==void 0?b[h]:null,N=b[0]!==void 0?null:(F=c?.[h])!=null?F:null;return{char:L,placeholderChar:N,isActive:B,hasFakeCaret:B&&L===null}}),isFocused:re,isHovering:!d.disabled&&fe}),[re,fe,l,Y,Q,d.disabled,b]),Oe=a.useMemo(()=>j?j(ue):a.createElement(Me.Provider,{value:ue},C),[C,ue,j]);return a.createElement(a.Fragment,null,f!==null&&a.createElement("noscript",null,a.createElement("style",null,f)),a.createElement("div",{ref:V,"data-input-otp-container":!0,style:$e,className:y},Oe,a.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},De)))});Re.displayName="Input";function le(r,e){try{r.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var Jt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,Xt="^\\d+$";const Ae=a.forwardRef((r,e)=>{const t=P.c(13);let o,s,l;t[0]!==r?({className:o,containerClassName:s,...l}=r,t[0]=r,t[1]=o,t[2]=s,t[3]=l):(o=t[1],s=t[2],l=t[3]);let i;t[4]!==s?(i=U("flex items-center gap-2 has-[:disabled]:opacity-50",s),t[4]=s,t[5]=i):i=t[5];let u;t[6]!==o?(u=U("disabled:cursor-not-allowed",o),t[6]=o,t[7]=u):u=t[7];let c;return t[8]!==l||t[9]!==e||t[10]!==i||t[11]!==u?(c=n.jsx(Re,{ref:e,containerClassName:i,className:u,...l}),t[8]=l,t[9]=e,t[10]=i,t[11]=u,t[12]=c):c=t[12],c});Ae.displayName="InputOTP";const Pe=a.forwardRef((r,e)=>{const t=P.c(9);let o,s;t[0]!==r?({className:o,...s}=r,t[0]=r,t[1]=o,t[2]=s):(o=t[1],s=t[2]);let l;t[3]!==o?(l=U("flex items-center",o),t[3]=o,t[4]=l):l=t[4];let i;return t[5]!==s||t[6]!==e||t[7]!==l?(i=n.jsx("div",{ref:e,className:l,...s}),t[5]=s,t[6]=e,t[7]=l,t[8]=i):i=t[8],i});Pe.displayName="InputOTPGroup";const Fe=a.forwardRef((r,e)=>{const t=P.c(15);let o,s,l;t[0]!==r?({index:s,className:o,...l}=r,t[0]=r,t[1]=o,t[2]=s,t[3]=l):(o=t[1],s=t[2],l=t[3]);const i=a.useContext(Me),{char:u,hasFakeCaret:c,isActive:g}=i.slots[s],v=g&&"z-10 ring-1 ring-ring";let x;t[4]!==o||t[5]!==v?(x=U("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",v,o),t[4]=o,t[5]=v,t[6]=x):x=t[6];let m;t[7]!==c?(m=c&&n.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})}),t[7]=c,t[8]=m):m=t[8];let y;return t[9]!==u||t[10]!==l||t[11]!==e||t[12]!==x||t[13]!==m?(y=n.jsxs("div",{ref:e,className:x,...l,children:[u,m]}),t[9]=u,t[10]=l,t[11]=e,t[12]=x,t[13]=m,t[14]=y):y=t[14],y});Fe.displayName="InputOTPSlot";const Zt=a.forwardRef((r,e)=>{const t=P.c(6);let o;t[0]!==r?({...o}=r,t[0]=r,t[1]=o):o=t[1];let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=n.jsx(jt,{}),t[2]=s):s=t[2];let l;return t[3]!==o||t[4]!==e?(l=n.jsx("div",{ref:e,role:"separator",...o,children:s}),t[3]=o,t[4]=e,t[5]=l):l=t[5],l});Zt.displayName="InputOTPSeparator";function Ut(){const r=P.c(3),[e,t]=a.useState(null);let o;r[0]===Symbol.for("react.memo_cache_sentinel")?(o=async i=>{if(!navigator?.clipboard)return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(i),t(i),!0}catch(u){return console.warn("Copy failed",u),t(null),!1}},r[0]=o):o=r[0];const s=o;let l;return r[1]!==e?(l=[e,s],r[1]=e,r[2]=l):l=r[2],l}const pe=6,me=async r=>{const e=await fetch(r,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Failed to fetch: ${e.status}`);return e.json()},Yt=()=>{const r=P.c(14),[e,t]=a.useState(null),[o,s]=a.useState(null);let l;r[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],r[0]=l):l=r[0];const[i,u]=a.useState(l);let c;r[1]===Symbol.for("react.memo_cache_sentinel")?(c=[],r[1]=c):c=r[1];const[g,v]=a.useState(c),x=e!==null&&o!==null;let m;r[2]===Symbol.for("react.memo_cache_sentinel")?(m=async()=>{try{const{svg:b}=await me(Ve.url());t(b)}catch{v(er),t(null)}},r[2]=m):m=r[2];const y=m;let f;r[3]===Symbol.for("react.memo_cache_sentinel")?(f=async()=>{try{const{secretKey:b}=await me(ze.url());s(b)}catch{v(tr),s(null)}},r[3]=f):f=r[3];const j=f;let C;r[4]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{v([])},r[4]=C):C=r[4];const d=C;let w;r[5]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{s(null),t(null),d()},r[5]=w):w=r[5];const k=w;let _;r[6]===Symbol.for("react.memo_cache_sentinel")?(_=async()=>{try{d();const b=await me(Ke.url());u(b)}catch{v(rr),u([])}},r[6]=_):_=r[6];const E=_;let T;r[7]===Symbol.for("react.memo_cache_sentinel")?(T=async()=>{try{d(),await Promise.all([y(),j()])}catch{t(null),s(null)}},r[7]=T):T=r[7];const M=T;let A;return r[8]!==g||r[9]!==x||r[10]!==o||r[11]!==e||r[12]!==i?(A={qrCodeSvg:e,manualSetupKey:o,recoveryCodesList:i,hasSetupData:x,errors:g,clearErrors:d,clearSetupData:k,fetchQrCode:y,fetchSetupKey:j,fetchSetupData:M,fetchRecoveryCodes:E},r[8]=g,r[9]=x,r[10]=o,r[11]=e,r[12]=i,r[13]=A):A=r[13],A};function er(r){return[...r,"Failed to fetch QR code"]}function tr(r){return[...r,"Failed to fetch a setup key"]}function rr(r){return[...r,"Failed to fetch recovery codes"]}function nr(){const r=P.c(2);let e;r[0]===Symbol.for("react.memo_cache_sentinel")?(e=n.jsx("div",{className:"absolute inset-0 grid grid-cols-5 opacity-50",children:Array.from({length:5},lr)}),r[0]=e):e=r[0];let t;return r[1]===Symbol.for("react.memo_cache_sentinel")?(t=n.jsx("div",{className:"mb-3 rounded-full border border-border bg-card p-0.5 shadow-sm",children:n.jsxs("div",{className:"relative overflow-hidden rounded-full border border-border bg-muted p-2.5",children:[e,n.jsx("div",{className:"absolute inset-0 grid grid-rows-5 opacity-50",children:Array.from({length:5},or)}),n.jsx(_t,{className:"relative z-20 size-6 text-foreground"})]})}),r[1]=t):t=r[1],t}function or(r,e){return n.jsx("div",{className:"border-b border-border last:border-b-0"},`row-${e+1}`)}function lr(r,e){return n.jsx("div",{className:"border-r border-border last:border-r-0"},`col-${e+1}`)}function sr(r){const e=P.c(8),{qrCodeSvg:t,manualSetupKey:o,buttonText:s,onNextStep:l,errors:i}=r,[u,c]=Ut(),g=u===o?mt:ft;let v;return e[0]!==g||e[1]!==s||e[2]!==c||e[3]!==i||e[4]!==o||e[5]!==l||e[6]!==t?(v=n.jsx(n.Fragment,{children:i?.length?n.jsx(Ne,{errors:i}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mx-auto flex max-w-md overflow-hidden",children:n.jsx("div",{className:"mx-auto aspect-square w-64 rounded-lg border border-border",children:n.jsx("div",{className:"z-10 flex h-full w-full items-center justify-center p-5",children:t?n.jsx("div",{className:"aspect-square w-full rounded-lg bg-white p-2 [&_svg]:size-full",dangerouslySetInnerHTML:{__html:t}}):n.jsx(we,{})})})}),n.jsx("div",{className:"flex w-full space-x-5",children:n.jsx(G,{className:"w-full",onClick:l,children:s})}),n.jsxs("div",{className:"relative flex w-full items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 top-1/2 h-px w-full bg-border"}),n.jsx("span",{className:"relative bg-card px-2 py-1",children:"or, enter the code manually"})]}),n.jsx("div",{className:"flex w-full space-x-2",children:n.jsx("div",{className:"flex w-full items-stretch overflow-hidden rounded-xl border border-border",children:o?n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"text",readOnly:!0,value:o,className:"h-full w-full bg-background p-3 text-foreground outline-none"}),n.jsx("button",{onClick:()=>c(o),className:"border-l border-border px-3 hover:bg-muted",children:n.jsx(g,{className:"w-4"})})]}):n.jsx("div",{className:"flex h-full w-full items-center justify-center bg-muted p-3",children:n.jsx(we,{})})})})]})}),e[0]=g,e[1]=s,e[2]=c,e[3]=i,e[4]=o,e[5]=l,e[6]=t,e[7]=v):v=e[7],v}function ar(r){const e=P.c(11),{onClose:t,onBack:o}=r,[s,l]=a.useState(""),i=a.useRef(null);let u,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{setTimeout(()=>{i.current?.querySelector("input")?.focus()},0)},c=[],e[0]=u,e[1]=c):(u=e[0],c=e[1]),a.useEffect(u,c);let g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g=Ge.form(),e[2]=g):g=e[2];let v;e[3]!==t?(v=()=>t(),e[3]=t,e[4]=v):v=e[4];let x;e[5]!==s||e[6]!==o?(x=y=>{const{processing:f,errors:j}=y;return n.jsx(n.Fragment,{children:n.jsxs("div",{ref:i,className:"relative w-full space-y-3",children:[n.jsxs("div",{className:"flex w-full flex-col items-center space-y-3 py-2",children:[n.jsx(Ae,{id:"otp",name:"code",maxLength:pe,onChange:l,disabled:f,pattern:Xt,children:n.jsx(Pe,{children:Array.from({length:pe},ir)})}),n.jsx(at,{message:j?.confirmTwoFactorAuthentication?.code})]}),n.jsxs("div",{className:"flex w-full space-x-5",children:[n.jsx(G,{type:"button",variant:"outline",className:"flex-1",onClick:o,disabled:f,children:"Back"}),n.jsx(G,{type:"submit",className:"flex-1",disabled:f||s.length<pe,children:"Confirm"})]})]})})},e[5]=s,e[6]=o,e[7]=x):x=e[7];let m;return e[8]!==v||e[9]!==x?(m=n.jsx(ae,{...g,onSuccess:v,resetOnError:!0,resetOnSuccess:!0,children:x}),e[8]=v,e[9]=x,e[10]=m):m=e[10],m}function ir(r,e){return n.jsx(Fe,{index:e},e)}function cr(r){const e=P.c(43),{isOpen:t,onClose:o,requiresConfirmation:s,twoFactorEnabled:l,qrCodeSvg:i,manualSetupKey:u,clearSetupData:c,fetchSetupData:g,errors:v}=r,[x,m]=a.useState(!1);let y;e:{if(l){let D;e[0]===Symbol.for("react.memo_cache_sentinel")?(D={title:"Two-Factor Authentication Enabled",description:"Two-factor authentication is now enabled. Scan the QR code or enter the setup key in your authenticator app.",buttonText:"Close"},e[0]=D):D=e[0],y=D;break e}if(x){let D;e[1]===Symbol.for("react.memo_cache_sentinel")?(D={title:"Verify Authentication Code",description:"Enter the 6-digit code from your authenticator app",buttonText:"Continue"},e[1]=D):D=e[1],y=D;break e}let W;e[2]===Symbol.for("react.memo_cache_sentinel")?(W={title:"Enable Two-Factor Authentication",description:"To finish enabling two-factor authentication, scan the QR code or enter the setup key in your authenticator app",buttonText:"Continue"},e[2]=W):W=e[2],y=W}const f=y;let j;e[3]!==c||e[4]!==o||e[5]!==s?(j=()=>{if(s){m(!0);return}c(),o()},e[3]=c,e[4]=o,e[5]=s,e[6]=j):j=e[6];const C=j;let d;e[7]!==c||e[8]!==l?(d=()=>{m(!1),l&&c()},e[7]=c,e[8]=l,e[9]=d):d=e[9];const w=d;let k,_;e[10]!==g||e[11]!==t||e[12]!==i?(k=()=>{t&&!i&&g()},_=[t,i,g],e[10]=g,e[11]=t,e[12]=i,e[13]=k,e[14]=_):(k=e[13],_=e[14]),a.useEffect(k,_);let E;e[15]!==o||e[16]!==w?(E=()=>{w(),o()},e[15]=o,e[16]=w,e[17]=E):E=e[17];const T=E;let M;e[18]!==T?(M=W=>!W&&T(),e[18]=T,e[19]=M):M=e[19];let A;e[20]===Symbol.for("react.memo_cache_sentinel")?(A=n.jsx(nr,{}),e[20]=A):A=e[20];let b;e[21]!==f.title?(b=n.jsx(it,{children:f.title}),e[21]=f.title,e[22]=b):b=e[22];let $;e[23]!==f.description?($=n.jsx(ct,{className:"text-center",children:f.description}),e[23]=f.description,e[24]=$):$=e[24];let I;e[25]!==$||e[26]!==b?(I=n.jsxs(ut,{className:"flex items-center justify-center",children:[A,b,$]}),e[25]=$,e[26]=b,e[27]=I):I=e[27];let R;e[28]!==v||e[29]!==C||e[30]!==u||e[31]!==f.buttonText||e[32]!==o||e[33]!==i||e[34]!==x?(R=n.jsx("div",{className:"flex flex-col items-center space-y-5",children:x?n.jsx(ar,{onClose:o,onBack:()=>m(!1)}):n.jsx(sr,{qrCodeSvg:i,manualSetupKey:u,buttonText:f.buttonText,onNextStep:C,errors:v})}),e[28]=v,e[29]=C,e[30]=u,e[31]=f.buttonText,e[32]=o,e[33]=i,e[34]=x,e[35]=R):R=e[35];let S;e[36]!==I||e[37]!==R?(S=n.jsxs(dt,{className:"sm:max-w-md",children:[I,R]}),e[36]=I,e[37]=R,e[38]=S):S=e[38];let V;return e[39]!==t||e[40]!==S||e[41]!==M?(V=n.jsx(pt,{open:t,onOpenChange:M,children:S}),e[39]=t,e[40]=S,e[41]=M,e[42]=V):V=e[42],V}const ur=[{title:"Two-Factor Authentication",href:Ze.url()}];function Zr(r){const e=P.c(21),{requiresConfirmation:t,twoFactorEnabled:o}=r,s=t===void 0?!1:t,l=o===void 0?!1:o,{qrCodeSvg:i,hasSetupData:u,manualSetupKey:c,clearSetupData:g,fetchSetupData:v,recoveryCodesList:x,fetchRecoveryCodes:m,errors:y}=Yt(),[f,j]=a.useState(!1);let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C=n.jsx(We,{title:"Two-Factor Authentication"}),e[0]=C):C=e[0];let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=n.jsx(Xe,{title:"Two-Factor Authentication",description:"Manage your two-factor authentication settings"}),e[1]=d):d=e[1];let w;e[2]!==y||e[3]!==m||e[4]!==u||e[5]!==x||e[6]!==l?(w=l?n.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[n.jsx(Se,{variant:"default",children:"Enabled"}),n.jsx("p",{className:"text-muted-foreground",children:"With two-factor authentication enabled, you will be prompted for a secure, random pin during login, which you can retrieve from the TOTP-supported application on your phone."}),n.jsx(Pt,{recoveryCodesList:x,fetchRecoveryCodes:m,errors:y}),n.jsx("div",{className:"relative inline",children:n.jsx(ae,{...Qe.form(),children:pr})})]}):n.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[n.jsx(Se,{variant:"destructive",children:"Disabled"}),n.jsx("p",{className:"text-muted-foreground",children:"When you enable two-factor authentication, you will be prompted for a secure pin during login. This pin can be retrieved from a TOTP-supported application on your phone."}),n.jsx("div",{children:u?n.jsxs(G,{onClick:()=>j(!0),children:[n.jsx(_e,{}),"Continue Setup"]}):n.jsx(ae,{...Je.form(),onSuccess:()=>j(!0),children:dr})})]}),e[2]=y,e[3]=m,e[4]=u,e[5]=x,e[6]=l,e[7]=w):w=e[7];let k;e[8]===Symbol.for("react.memo_cache_sentinel")?(k=()=>j(!1),e[8]=k):k=e[8];let _;e[9]!==g||e[10]!==y||e[11]!==v||e[12]!==c||e[13]!==i||e[14]!==s||e[15]!==f||e[16]!==l?(_=n.jsx(cr,{isOpen:f,onClose:k,requiresConfirmation:s,twoFactorEnabled:l,qrCodeSvg:i,manualSetupKey:c,clearSetupData:g,fetchSetupData:v,errors:y}),e[9]=g,e[10]=y,e[11]=v,e[12]=c,e[13]=i,e[14]=s,e[15]=f,e[16]=l,e[17]=_):_=e[17];let E;return e[18]!==w||e[19]!==_?(E=n.jsxs(ht,{breadcrumbs:ur,children:[C,n.jsx(Ue,{children:n.jsxs("div",{className:"space-y-6",children:[d,w,_]})})]}),e[18]=w,e[19]=_,e[20]=E):E=e[20],E}function dr(r){const{processing:e}=r;return n.jsxs(G,{type:"submit",disabled:e,children:[n.jsx(_e,{}),"Enable 2FA"]})}function pr(r){const{processing:e}=r;return n.jsxs(G,{variant:"destructive",type:"submit",disabled:e,children:[n.jsx(kt,{})," Disable 2FA"]})}export{Zr as default};

import{a as Pe,u as Ie,b as Ee,j as t,H as Re,L as Be}from"./app-C5lTwHdN.js";import{a as ze,A as Me}from"./app-layout-Bkgev9_o.js";import{B as Ve}from"./button-B3Yl_OTn.js";import{I as je}from"./input-AiS0ET7Q.js";import{T as Ne}from"./textarea-lfpUNtC6.js";import{L as r}from"./label-CjnuS3bn.js";import{S as He}from"./switch-B6CsY0du.js";import{S as Se,a as we,b as Ce,c as ke,f as c}from"./select-CsLL6HRp.js";import{T as Le,b as Oe,a as Te,c as qe}from"./tabs-Drw7C9NW.js";import{C as F,c as U}from"./card-CF9j4czJ.js";import{B as Fe}from"./button-loading-C_K-cKcs.js";import Ue from"./markdown-viewer-BVREgXJn.js";import{I as Ae}from"./image-Ccmlbdqc.js";import{A as We}from"./arrow-left-lvK8zkEe.js";import{S as Ge}from"./save-Dy_HqgHF.js";import"./app-B1pgpXbD.js";import"./index-XrecUg5K.js";import"./index-DYvc6laF.js";import"./dropdown-menu-MpvFRV45.js";import"./index-CCa0ViFn.js";import"./index-Bi8myhfb.js";import"./index-BTa5M561.js";import"./index-6raR_gNw.js";import"./index-CBZxXS5R.js";import"./index-v9zI-M-E.js";import"./index-DTWs1OQ1.js";import"./index-DRjZeCPR.js";import"./x-BXwvSmSF.js";import"./index-CjCA_Hra.js";import"./index-MV30uHUT.js";import"./index-DNHXitqj.js";import"./index-DBg_p2HY.js";import"./tooltip-DQ74tlMz.js";import"./index-D0If7yHc.js";import"./avatar-Djc5mmgT.js";import"./index-CNP4AJTI.js";import"./app-logo-icon-B8uUZYx3.js";import"./chevron-right-D8Cnbahg.js";import"./index-D4Z722nf.js";import"./index-DbBgjMcG.js";import"./chevron-down-DiQD3R_x.js";import"./check-PtdWg4I3.js";import"./spinner-Dj3vLWuF.js";import"./send-Bre8Qe8k.js";import"./index-CXEH3aeU.js";function Vt(){const e=Pe.c(122);let W;e[0]===Symbol.for("react.memo_cache_sentinel")?(W={title:"",category:"web",status:"draft",description_short:"",content:"",stack:"",github_url:"",live_url:"",thumbnail:null,is_featured:!1},e[0]=W):W=e[0];const{data:s,setData:l,post:ve,processing:be,errors:a}=Ie(W),[G,De]=Ee.useState(null);let K;e[1]!==l?(K=i=>{const ye=i.target.files?.[0];ye&&(l("thumbnail",ye),De(URL.createObjectURL(ye)))},e[1]=l,e[2]=K):K=e[2];const ge=K;let $;e[3]!==ve?($=i=>{i.preventDefault(),ve("/dashboard/project")},e[3]=ve,e[4]=$):$=e[4];const _e=$;let J,Q;e[5]===Symbol.for("react.memo_cache_sentinel")?(J=[{title:"Projets",href:"/dashboard/projects"},{title:"Créer",href:"#"}],Q=t.jsx(Re,{title:"Nouveau Projet"}),e[5]=J,e[6]=Q):(J=e[5],Q=e[6]);let X;e[7]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs("div",{className:"space-y-1",children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Nouveau Projet"}),t.jsx("p",{className:"text-muted-foreground text-sm",children:"Ajouter une réalisation à votre portfolio."})]}),e[7]=X):X=e[7];let Y;e[8]===Symbol.for("react.memo_cache_sentinel")?(Y=ze.project.index(),e[8]=Y):Y=e[8];let Z;e[9]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Ve,{variant:"outline",asChild:!0,children:t.jsxs(Be,{href:Y,prefetch:!0,children:[t.jsx(We,{className:"mr-2 h-4 w-4"})," Retour"]})}),e[9]=Z):Z=e[9];let ee;e[10]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Ge,{className:"mr-2 h-4 w-4"}),e[10]=ee):ee=e[10];let o;e[11]!==be?(o=t.jsxs("div",{className:"flex items-center justify-between",children:[X,t.jsxs("div",{className:"flex gap-2",children:[Z,t.jsx(Fe,{isLoading:be,logo:ee,text:"Enregistrer le projet",textLoader:"Création..."})]})]}),e[11]=be,e[12]=o):o=e[12];let te;e[13]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsxs(r,{htmlFor:"title",children:["Titre du projet ",t.jsx("span",{className:"text-red-500",children:"*"})]}),e[13]=te):te=e[13];let n;e[14]!==l?(n=i=>l("title",i.target.value),e[14]=l,e[15]=n):n=e[15];let m;e[16]!==s.title||e[17]!==n?(m=t.jsx(je,{id:"title",placeholder:"Ex: Architecture Micro-services K8s",value:s.title,onChange:n,className:"text-lg font-semibold"}),e[16]=s.title,e[17]=n,e[18]=m):m=e[18];let d;e[19]!==a.title?(d=a.title&&t.jsx("p",{className:"text-sm text-destructive",children:a.title}),e[19]=a.title,e[20]=d):d=e[20];let h;e[21]!==m||e[22]!==d?(h=t.jsxs("div",{className:"space-y-2",children:[te,m,d]}),e[21]=m,e[22]=d,e[23]=h):h=e[23];let se;e[24]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(r,{htmlFor:"desc",children:"Description courte (SEO & Cards)"}),e[24]=se):se=e[24];let u;e[25]!==l?(u=i=>l("description_short",i.target.value),e[25]=l,e[26]=u):u=e[26];let p;e[27]!==s.description_short||e[28]!==u?(p=t.jsxs("div",{className:"space-y-2",children:[se,t.jsx(Ne,{id:"desc",placeholder:"Un résumé accrocheur en 2-3 phrases...",className:"h-24 resize-none",value:s.description_short,onChange:u})]}),e[27]=s.description_short,e[28]=u,e[29]=p):p=e[29];let f;e[30]!==h||e[31]!==p?(f=t.jsx(F,{children:t.jsxs(U,{className:"pt-6 space-y-4",children:[h,p]})}),e[30]=h,e[31]=p,e[32]=f):f=e[32];let le;e[33]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("div",{className:"border-b px-4 py-2 bg-muted/30",children:t.jsxs(Oe,{children:[t.jsx(Te,{value:"write",children:"Édition Markdown"}),t.jsx(Te,{value:"preview",children:"Prévisualisation"})]})}),e[33]=le):le=e[33];let x;e[34]!==l?(x=i=>l("content",i.target.value),e[34]=l,e[35]=x):x=e[35];let j;e[36]!==s.content||e[37]!==x?(j=t.jsx(Le,{value:"write",className:"p-0 m-0",children:t.jsx(Ne,{placeholder:`# Détails du projet

Décrivez votre approche technique, les challenges...`,className:"min-h-[400px] border-0 rounded-none focus-visible:ring-0 p-6 font-mono text-sm leading-relaxed resize-y",value:s.content,onChange:x})}),e[36]=s.content,e[37]=x,e[38]=j):j=e[38];let v;e[39]!==s.content?(v=t.jsx(Le,{value:"preview",className:"p-6 m-0 min-h-[400px] border-t bg-muted/10",children:s.content?t.jsx(Ue,{data:s.content}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground italic gap-2",children:[t.jsx("div",{className:"p-4 rounded-full bg-muted/50",children:t.jsx(Ae,{className:"h-6 w-6 opacity-50"})}),t.jsx("p",{children:"Le contenu apparaîtra ici..."})]})}),e[39]=s.content,e[40]=v):v=e[40];let b;e[41]!==j||e[42]!==v?(b=t.jsx(F,{className:"overflow-hidden",children:t.jsxs(qe,{defaultValue:"write",className:"w-full",children:[le,j,v]})}),e[41]=j,e[42]=v,e[43]=b):b=e[43];let g;e[44]!==f||e[45]!==b?(g=t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f,b]}),e[44]=f,e[45]=b,e[46]=g):g=e[46];let ie;e[47]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(r,{children:"Statut"}),e[47]=ie):ie=e[47];let _;e[48]!==l?(_=i=>l("status",i),e[48]=l,e[49]=_):_=e[49];let re;e[50]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(we,{children:t.jsx(Ce,{})}),e[50]=re):re=e[50];let ae;e[51]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsxs(ke,{children:[t.jsx(c,{value:"draft",children:"Draft (Brouillon)"}),t.jsx(c,{value:"published",children:"Publié"}),t.jsx(c,{value:"archived",children:"Archivé"})]}),e[51]=ae):ae=e[51];let y;e[52]!==s.status||e[53]!==_?(y=t.jsxs("div",{className:"space-y-2",children:[ie,t.jsxs(Se,{value:s.status,onValueChange:_,children:[re,ae]})]}),e[52]=s.status,e[53]=_,e[54]=y):y=e[54];let ce;e[55]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(r,{children:"Catégorie"}),e[55]=ce):ce=e[55];let N;e[56]!==l?(N=i=>l("category",i),e[56]=l,e[57]=N):N=e[57];let oe;e[58]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(we,{children:t.jsx(Ce,{})}),e[58]=oe):oe=e[58];let ne;e[59]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsxs(ke,{children:[t.jsx(c,{value:"devops",children:"DevOps & Cloud"}),t.jsx(c,{value:"web",children:"Développement Web"}),t.jsx(c,{value:"mobile",children:"Mobile App"}),t.jsx(c,{value:"opensource",children:"Open Source"}),t.jsx(c,{value:"saas",children:"SaaS Product"})]}),e[59]=ne):ne=e[59];let S;e[60]!==s.category||e[61]!==N?(S=t.jsxs("div",{className:"space-y-2",children:[ce,t.jsxs(Se,{value:s.category,onValueChange:N,children:[oe,ne]})]}),e[60]=s.category,e[61]=N,e[62]=S):S=e[62];let me;e[63]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(r,{className:"text-base",children:"Mis en avant"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Afficher sur la Home ?"})]}),e[63]=me):me=e[63];let w;e[64]!==l?(w=i=>l("is_featured",i),e[64]=l,e[65]=w):w=e[65];let C;e[66]!==s.is_featured||e[67]!==w?(C=t.jsxs("div",{className:"flex items-center justify-between border rounded-lg p-3 bg-muted/20",children:[me,t.jsx(He,{checked:s.is_featured,onCheckedChange:w})]}),e[66]=s.is_featured,e[67]=w,e[68]=C):C=e[68];let k;e[69]!==y||e[70]!==S||e[71]!==C?(k=t.jsx(F,{children:t.jsxs(U,{className:"pt-6 space-y-6",children:[y,S,C]})}),e[69]=y,e[70]=S,e[71]=C,e[72]=k):k=e[72];let de;e[73]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(r,{children:"Stack Technique"}),e[73]=de):de=e[73];let L;e[74]!==l?(L=i=>l("stack",i.target.value),e[74]=l,e[75]=L):L=e[75];let T;e[76]!==s.stack||e[77]!==L?(T=t.jsx(je,{placeholder:"Symfony, Docker, AWS, React...",value:s.stack,onChange:L}),e[76]=s.stack,e[77]=L,e[78]=T):T=e[78];let he;e[79]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Séparez les technologies par des virgules."}),e[79]=he):he=e[79];let A;e[80]!==T?(A=t.jsx(F,{children:t.jsx(U,{className:"pt-6 space-y-4",children:t.jsxs("div",{className:"space-y-2",children:[de,T,he]})})}),e[80]=T,e[81]=A):A=e[81];let ue;e[82]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(r,{children:"Repository GitHub"}),e[82]=ue):ue=e[82];let D;e[83]!==l?(D=i=>l("github_url",i.target.value),e[83]=l,e[84]=D):D=e[84];let P;e[85]!==s.github_url||e[86]!==D?(P=t.jsxs("div",{className:"space-y-2",children:[ue,t.jsx(je,{placeholder:"https://github.com/...",value:s.github_url,onChange:D})]}),e[85]=s.github_url,e[86]=D,e[87]=P):P=e[87];let pe;e[88]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(r,{children:"Lien Live / Demo"}),e[88]=pe):pe=e[88];let I;e[89]!==l?(I=i=>l("live_url",i.target.value),e[89]=l,e[90]=I):I=e[90];let E;e[91]!==s.live_url||e[92]!==I?(E=t.jsxs("div",{className:"space-y-2",children:[pe,t.jsx(je,{placeholder:"https://mon-projet.com",value:s.live_url,onChange:I})]}),e[91]=s.live_url,e[92]=I,e[93]=E):E=e[93];let R;e[94]!==P||e[95]!==E?(R=t.jsx(F,{children:t.jsxs(U,{className:"pt-6 space-y-4",children:[P,E]})}),e[94]=P,e[95]=E,e[96]=R):R=e[96];let fe;e[97]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(r,{children:"Image de couverture"}),e[97]=fe):fe=e[97];let B;e[98]!==G?(B=G?t.jsxs("div",{className:"relative aspect-video w-full rounded-lg overflow-hidden",children:[t.jsx("img",{src:G,alt:"Preview",className:"object-cover w-full h-full"}),t.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("span",{className:"text-white text-sm font-medium",children:"Changer l'image"})})]}):t.jsxs("div",{className:"py-8 text-muted-foreground",children:[t.jsx(Ae,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),t.jsx("span",{className:"text-sm",children:"Cliquez pour ajouter une image"})]}),e[98]=G,e[99]=B):B=e[99];let z;e[100]!==ge?(z=t.jsx("input",{id:"thumbnail-upload",type:"file",className:"hidden",accept:"image/*",onChange:ge}),e[100]=ge,e[101]=z):z=e[101];let M;e[102]!==B||e[103]!==z?(M=t.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 hover:bg-muted/50 transition-colors cursor-pointer relative group text-center",onClick:Ke,children:[B,z]}),e[102]=B,e[103]=z,e[104]=M):M=e[104];let V;e[105]!==a.thumbnail?(V=a.thumbnail&&t.jsx("p",{className:"text-sm text-destructive",children:a.thumbnail}),e[105]=a.thumbnail,e[106]=V):V=e[106];let H;e[107]!==M||e[108]!==V?(H=t.jsx(F,{children:t.jsxs(U,{className:"pt-6 space-y-4",children:[fe,M,V]})}),e[107]=M,e[108]=V,e[109]=H):H=e[109];let O;e[110]!==k||e[111]!==A||e[112]!==R||e[113]!==H?(O=t.jsxs("div",{className:"space-y-6",children:[k,A,R,H]}),e[110]=k,e[111]=A,e[112]=R,e[113]=H,e[114]=O):O=e[114];let q;e[115]!==g||e[116]!==O?(q=t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g,O]}),e[115]=g,e[116]=O,e[117]=q):q=e[117];let xe;return e[118]!==_e||e[119]!==q||e[120]!==o?(xe=t.jsxs(Me,{breadcrumbs:J,children:[Q,t.jsxs("form",{onSubmit:_e,className:"p-6 max-w-6xl mx-auto space-y-8",children:[o,q]})]}),e[118]=_e,e[119]=q,e[120]=o,e[121]=xe):xe=e[121],xe}function Ke(){return document.getElementById("thumbnail-upload")?.click()}export{Vt as default};

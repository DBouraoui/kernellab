import{a as Le,u as Te,b as Ie,j as t,L as Pe,H as Re}from"./app-DGPCan5g.js";import{a as Ae,A as Be}from"./app-layout-CcIgPbOE.js";import{B as Ee}from"./button-BKu1VtxA.js";import{I as ae}from"./input-pGgqHf-u.js";import{T as Se}from"./textarea-BYf018pl.js";import{L as a}from"./label-C28QrZQf.js";import{S as Me}from"./switch-BZJIYqkh.js";import{S as De,a as Ve,b as He,c as Ue,f as ye}from"./select-B2XZWmF0.js";import{T as Ne,b as $e,a as Ce,c as Fe}from"./tabs-DwiD81Yt.js";import{C as H,c as oe}from"./card-B7w5t2I-.js";import Ge from"./markdown-viewer-DWEJVTaX.js";import{B as Oe}from"./button-loading-C-4mtXC-.js";import{A as qe}from"./arrow-left-BEpQ0dQa.js";import{I as ze}from"./image-DTTJ89mB.js";import"./app-CnGQ27xG.js";import"./index-BxE-eOpd.js";import"./index-CApXfb9f.js";import"./dropdown-menu-B9BDWiTR.js";import"./index-iZS91M6O.js";import"./index-B_sldLAf.js";import"./index-BIcO2s-X.js";import"./index-DrygQRvF.js";import"./index-B6mdY-mV.js";import"./index-DUMTwvkv.js";import"./index-zkLdIFd1.js";import"./index-DXS21hnx.js";import"./x-b6IgYwCN.js";import"./index-C1BL1_cp.js";import"./index-CeDJjwBx.js";import"./index-Bgxp8mcL.js";import"./index-D2L6mW0U.js";import"./tooltip-B1H-JN1Z.js";import"./index-DPa3JC03.js";import"./avatar-4bez4EQy.js";import"./index-CNP4AJTI.js";import"./app-logo-icon-BJISjU6h.js";import"./chevron-right-B98-ukGQ.js";import"./index-BL8r2gbd.js";import"./index-mEpDUZvr.js";import"./chevron-down-kwMYXA65.js";import"./check-6_x2AkXJ.js";import"./index-AbxjkZDo.js";import"./spinner-COZcrGjY.js";import"./send-DPy52CHW.js";function Vt(we){const e=Le.c(117),{project:r}=we,ce=r.title||"",ne=r.category||"web",me=r.status||"draft",de=r.description_short||"",fe=r.content||"",ue=r.stack_string||"",he=r.github_url||"",pe=r.live_url||"";let U;e[0]!==r.is_featured||e[1]!==ce||e[2]!==ne||e[3]!==me||e[4]!==de||e[5]!==fe||e[6]!==ue||e[7]!==he||e[8]!==pe?(U={_method:"put",title:ce,category:ne,status:me,description_short:de,content:fe,stack:ue,github_url:he,live_url:pe,thumbnail:null,is_featured:r.is_featured},e[0]=r.is_featured,e[1]=ce,e[2]=ne,e[3]=me,e[4]=de,e[5]=fe,e[6]=ue,e[7]=he,e[8]=pe,e[9]=U):U=e[9];const{data:s,setData:l,post:xe,processing:je,errors:$}=Te(U),[F,ke]=Ie.useState(r.thumbnail_url||null);let G;e[10]!==l?(G=i=>{const ve=i.target.files?.[0];ve&&(l("thumbnail",ve),ke(URL.createObjectURL(ve)))},e[10]=l,e[11]=G):G=e[11];const _e=G;let O;e[12]!==xe||e[13]!==r.id?(O=i=>{i.preventDefault(),xe(`/dashboard/project/${r.id}`)},e[12]=xe,e[13]=r.id,e[14]=O):O=e[14];const be=O;let q;e[15]===Symbol.for("react.memo_cache_sentinel")?(q=[{title:"Projets",href:"/dashboard/projects"},{title:"Modifier",href:"#"}],e[15]=q):q=e[15];const ge=`Modifier ${r.title}`;let o;e[16]!==ge?(o=t.jsx(Re,{title:ge}),e[16]=ge,e[17]=o):o=e[17];let z;e[18]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Modifier le projet"}),e[18]=z):z=e[18];let J;e[19]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(Ee,{variant:"outline",asChild:!0,children:t.jsxs(Pe,{href:Ae.project.index(),children:[t.jsx(qe,{className:"mr-2 h-4 w-4"})," Retour"]})}),e[19]=J):J=e[19];let c;e[20]!==je?(c=t.jsxs("div",{className:"flex items-center justify-between",children:[z,t.jsxs("div",{className:"flex gap-2",children:[J,t.jsx(Oe,{isLoading:je,text:"Mettre à jour"})]})]}),e[20]=je,e[21]=c):c=e[21];let K;e[22]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(a,{children:"Titre"}),e[22]=K):K=e[22];let n;e[23]!==l?(n=i=>l("title",i.target.value),e[23]=l,e[24]=n):n=e[24];let m;e[25]!==s.title||e[26]!==n?(m=t.jsx(ae,{value:s.title,onChange:n}),e[25]=s.title,e[26]=n,e[27]=m):m=e[27];let d;e[28]!==$.title?(d=$.title&&t.jsx("p",{className:"text-destructive text-xs",children:$.title}),e[28]=$.title,e[29]=d):d=e[29];let f;e[30]!==m||e[31]!==d?(f=t.jsxs("div",{className:"space-y-2",children:[K,m,d]}),e[30]=m,e[31]=d,e[32]=f):f=e[32];let Q;e[33]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(a,{children:"Description courte"}),e[33]=Q):Q=e[33];let u;e[34]!==l?(u=i=>l("description_short",i.target.value),e[34]=l,e[35]=u):u=e[35];let h;e[36]!==s.description_short||e[37]!==u?(h=t.jsxs("div",{className:"space-y-2",children:[Q,t.jsx(Se,{value:s.description_short,onChange:u})]}),e[36]=s.description_short,e[37]=u,e[38]=h):h=e[38];let p;e[39]!==f||e[40]!==h?(p=t.jsx(H,{children:t.jsxs(oe,{className:"pt-6 space-y-4",children:[f,h]})}),e[39]=f,e[40]=h,e[41]=p):p=e[41];let W;e[42]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("div",{className:"border-b px-4 py-2 bg-muted/30",children:t.jsxs($e,{children:[t.jsx(Ce,{value:"write",children:"Édition"}),t.jsx(Ce,{value:"preview",children:"Prévisualisation"})]})}),e[42]=W):W=e[42];let x;e[43]!==l?(x=i=>l("content",i.target.value),e[43]=l,e[44]=x):x=e[44];let j;e[45]!==s.content||e[46]!==x?(j=t.jsx(Ne,{value:"write",children:t.jsx(Se,{className:"min-h-[400px] border-0 p-6 font-mono text-sm",value:s.content,onChange:x})}),e[45]=s.content,e[46]=x,e[47]=j):j=e[47];let _;e[48]!==s.content?(_=t.jsx(Ne,{value:"preview",className:"p-6 prose dark:prose-invert max-w-none",children:t.jsx(Ge,{data:s.content})}),e[48]=s.content,e[49]=_):_=e[49];let b;e[50]!==j||e[51]!==_?(b=t.jsx(H,{children:t.jsxs(Fe,{defaultValue:"write",children:[W,j,_]})}),e[50]=j,e[51]=_,e[52]=b):b=e[52];let g;e[53]!==p||e[54]!==b?(g=t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p,b]}),e[53]=p,e[54]=b,e[55]=g):g=e[55];let X;e[56]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(a,{children:"Statut & Catégorie"}),e[56]=X):X=e[56];let v;e[57]!==l?(v=i=>l("status",i),e[57]=l,e[58]=v):v=e[58];let Y;e[59]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Ve,{children:t.jsx(He,{})}),e[59]=Y):Y=e[59];let Z;e[60]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsxs(Ue,{children:[t.jsx(ye,{value:"draft",children:"Draft"}),t.jsx(ye,{value:"published",children:"Published"}),t.jsx(ye,{value:"archived",children:"Archived"})]}),e[60]=Z):Z=e[60];let y;e[61]!==s.status||e[62]!==v?(y=t.jsxs(De,{value:s.status,onValueChange:v,children:[Y,Z]}),e[61]=s.status,e[62]=v,e[63]=y):y=e[63];let ee;e[64]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(a,{children:"Featured"}),e[64]=ee):ee=e[64];let S;e[65]!==l?(S=i=>l("is_featured",i),e[65]=l,e[66]=S):S=e[66];let N;e[67]!==s.is_featured||e[68]!==S?(N=t.jsxs("div",{className:"flex items-center justify-between border p-3 rounded-lg",children:[ee,t.jsx(Me,{checked:s.is_featured,onCheckedChange:S})]}),e[67]=s.is_featured,e[68]=S,e[69]=N):N=e[69];let C;e[70]!==y||e[71]!==N?(C=t.jsx(H,{children:t.jsxs(oe,{className:"pt-6 space-y-4",children:[X,y,N]})}),e[70]=y,e[71]=N,e[72]=C):C=e[72];let te;e[73]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(a,{children:"Stack (virgules)"}),e[73]=te):te=e[73];let w;e[74]!==l?(w=i=>l("stack",i.target.value),e[74]=l,e[75]=w):w=e[75];let k;e[76]!==s.stack||e[77]!==w?(k=t.jsx(ae,{value:s.stack,onChange:w}),e[76]=s.stack,e[77]=w,e[78]=k):k=e[78];let se;e[79]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(a,{children:"GitHub"}),e[79]=se):se=e[79];let L;e[80]!==l?(L=i=>l("github_url",i.target.value),e[80]=l,e[81]=L):L=e[81];let T;e[82]!==s.github_url||e[83]!==L?(T=t.jsx(ae,{value:s.github_url,onChange:L}),e[82]=s.github_url,e[83]=L,e[84]=T):T=e[84];let le;e[85]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(a,{children:"Live URL"}),e[85]=le):le=e[85];let I;e[86]!==l?(I=i=>l("live_url",i.target.value),e[86]=l,e[87]=I):I=e[87];let P;e[88]!==s.live_url||e[89]!==I?(P=t.jsx(ae,{value:s.live_url,onChange:I}),e[88]=s.live_url,e[89]=I,e[90]=P):P=e[90];let R;e[91]!==k||e[92]!==T||e[93]!==P?(R=t.jsx(H,{children:t.jsxs(oe,{className:"pt-6 space-y-4",children:[te,k,se,T,le,P]})}),e[91]=k,e[92]=T,e[93]=P,e[94]=R):R=e[94];let ie;e[95]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(a,{children:"Image"}),e[95]=ie):ie=e[95];let A;e[96]!==F?(A=F?t.jsx("img",{src:F,className:"aspect-video object-cover rounded-lg"}):t.jsx(ze,{className:"mx-auto h-10 w-10 opacity-20"}),e[96]=F,e[97]=A):A=e[97];let B;e[98]!==_e?(B=t.jsx("input",{id:"thumb",type:"file",className:"hidden",onChange:_e}),e[98]=_e,e[99]=B):B=e[99];let E;e[100]!==A||e[101]!==B?(E=t.jsx(H,{children:t.jsxs(oe,{className:"pt-6 space-y-4",children:[ie,t.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 text-center cursor-pointer",onClick:Je,children:[A,B]})]})}),e[100]=A,e[101]=B,e[102]=E):E=e[102];let M;e[103]!==C||e[104]!==R||e[105]!==E?(M=t.jsxs("div",{className:"space-y-6",children:[C,R,E]}),e[103]=C,e[104]=R,e[105]=E,e[106]=M):M=e[106];let D;e[107]!==g||e[108]!==M?(D=t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g,M]}),e[107]=g,e[108]=M,e[109]=D):D=e[109];let V;e[110]!==be||e[111]!==c||e[112]!==D?(V=t.jsxs("form",{onSubmit:be,className:"p-6 max-w-6xl mx-auto space-y-8",children:[c,D]}),e[110]=be,e[111]=c,e[112]=D,e[113]=V):V=e[113];let re;return e[114]!==o||e[115]!==V?(re=t.jsxs(Be,{breadcrumbs:q,children:[o,V]}),e[114]=o,e[115]=V,e[116]=re):re=e[116],re}function Je(){return document.getElementById("thumb")?.click()}export{Vt as default};
